<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>IELTS Reading</title>

<style>
body{margin:0;font-family:Arial;background:#f2f5f9}
header{
  background:#1f4fd8;
  color:#fff;
  padding:15px;
  display:flex;
  justify-content:space-between;
  align-items:center
}
.container{padding:15px}
.card{
  background:#fff;
  border-radius:12px;
  padding:15px;
  margin-bottom:15px
}
.badge{
  padding:5px 12px;
  border-radius:20px;
  font-size:12px;
  display:inline-block;
  margin-bottom:8px
}
.free{background:#2ecc71;color:#fff}
.premium{background:#9b59b6;color:#fff}
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  background:#1f4fd8;
  color:#fff;
  font-size:16px
}

.test{
  display:flex;
  height:calc(100vh - 60px)
}
.passage{
  width:55%;
  background:#fff;
  padding:20px;
  overflow:auto
}
.questions{
  width:45%;
  padding:20px;
  overflow:auto;
  border-left:2px solid #ddd
}
.hidden{display:none}
</style>
</head>

<body>

<header>
  <div id="title">ðŸ“˜ IELTS Reading Tests</div>
  <div id="timer"></div>
</header>

<!-- PASSAGE LIST -->
<div id="list" class="container"></div>

<!-- TEST VIEW -->
<div id="test" class="test hidden">
  <div class="passage" id="passageText"></div>
  <div class="questions">
    <form id="quiz"></form>
    <br>
    <button onclick="submitTest()">Submit Answers</button>
    <p id="result"></p>
  </div>
</div>

<script>
// ================= PASSAGE DATA =================
const passages = [
{
  id:1,
  title:"Mental Gymnastics",
  type:"free",
  time:20,
  text:`
  <p><b>A.</b> The working day has just started at the head office of Barclays Bank...</p>
  <p><b>B.</b> Today's workout, organized by a company called the Mind Gym...</p>
  <p><b>C.</b> It's easy to poke fun...</p>
  `,
  questions:[
    {
      q:"Mind Gym coach instructed employees to imagine that they are the building.",
      options:["TRUE","FALSE","NOT GIVEN"],
      a:"FALSE"
    },
    {
      q:"According to Mind Gym, scientific research supports their sessions.",
      options:["TRUE","FALSE","NOT GIVEN"],
      a:"TRUE"
    }
  ]
}
];

// ================= RENDER LIST =================
const list=document.getElementById("list");

passages.forEach(p=>{
  list.innerHTML+=`
  <div class="card">
    <span class="badge ${p.type}">${p.type.toUpperCase()}</span>
    <h3>${p.title}</h3>
    <button onclick="startTest(${p.id})">Start</button>
  </div>
  `;
});

// ================= START TEST =================
let current,seconds,interval;

function startTest(id){
  current=passages.find(p=>p.id===id);
  list.classList.add("hidden");
  document.getElementById("test").classList.remove("hidden");
  document.getElementById("title").innerText=current.title;

  seconds=current.time*60;
  runTimer();

  document.getElementById("passageText").innerHTML=current.text;
  const quiz=document.getElementById("quiz");
  quiz.innerHTML="";

  current.questions.forEach((x,i)=>{
    quiz.innerHTML+=`
    <p>${i+1}. ${x.q}</p>
    ${x.options.map(o=>`
      <label>
        <input type="radio" name="q${i}" value="${o}"> ${o}
      </label><br>
    `).join("")}
    <br>
    `;
  });
}

// ================= TIMER =================
function runTimer(){
  interval=setInterval(()=>{
    seconds--;
    document.getElementById("timer").innerText=
      Math.floor(seconds/60)+":"+(seconds%60).toString().padStart(2,"0");
    if(seconds<=0){
      clearInterval(interval);
      submitTest();
    }
  },1000);
}

// ================= SUBMIT =================
function submitTest(){
  clearInterval(interval);
  let score=0;

  current.questions.forEach((q,i)=>{
    const a=document.querySelector(`input[name=q${i}]:checked`);
    if(a && a.value===q.a) score++;
  });

  document.getElementById("result").innerText=
    `Correct answers: ${score} / ${current.questions.length}`;
}
</script>

</body>
</html>